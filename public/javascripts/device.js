// Generated by CoffeeScript 1.7.1
$(function() {
  var allhide, connecting, initializing, peerIDsetting, rm, showError, showImage, showMessage, waiting;
  rm = new ns.RemoteMonitor();
  peerIDsetting = function(id) {
    return $('#device-id').text(id);
  };
  allhide = function() {
    $('#initialize').hide();
    $('#peerid-container').hide();
    $('#monitor-video').hide();
    $('#device-video').hide();
    $('#connecting').hide();
    return $('#image-container').hide();
  };
  initializing = function() {
    allhide();
    return $('#initialize').show();
  };
  waiting = function() {
    allhide();
    return $('#peerid-container').show();
  };
  connecting = function() {
    allhide();
    return $('#connecting').show();
  };
  showError = function(errMessage) {
    console.log("showError :" + errMessage);
    return alert(errMessage);
  };
  showMessage = function(message) {
    return $('#message').text(message);
  };
  showImage = function(image) {
    $('#sent-image')[0].src = image;
    $('#connecting').hide();
    return $('#image-container').show();
  };
  $('#end-call').click(function() {
    rm.closeCall();
    return waiting();
  });
  $('#close-image').click(function() {
    $('#sent-image')[0].src = "";
    $('#image-container').hide();
    return $('#connecting').show();
  });
  $('#terminate').click(function() {
    rm.terminate();
    return window.open('about:blank', '_self').close();
  });
  rm.onOpen(peerIDsetting);
  rm.onError(showError, waiting);
  rm.onConnection(showMessage, showImage);
  rm.onCall($('#monitor-video'), connecting, waiting);
  return rm.initialize($('#device-video'), initializing, waiting);
});
